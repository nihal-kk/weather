<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Social Links Editable Icons</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
    .social-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
        text-align: center;
    }
    .social-icons-row {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 20px;
    }
    .social-item i {
        font-size: 30px;
        cursor: pointer;
    }
    .edit-area {
        display: none;
        width: 160px;
    }
</style>
</head>
<body class="p-3">

<h3 class="text-center mb-4">My Social Links</h3>

<div class="social-icons-row">

    <!-- LinkedIn -->
    <div class="social-item">
        <a id="linkedinLink" href="#" target="_blank" title="Open LinkedIn (not set)">
            <i class="fab fa-linkedin" style="color:#0077b5;"></i>
        </a>
        <button class="btn btn-sm btn-outline-primary" onclick="toggleEdit('linkedin')">Edit</button>
        <div class="edit-area mt-1" id="linkedin-edit">
            <input type="text" class="form-control form-control-sm mb-1" id="linkedin-username" placeholder="LinkedIn username">
            <button class="btn btn-sm btn-success" onclick="saveUsername('linkedin')">Save</button>
        </div>
    </div>

    <!-- GitHub -->
    <div class="social-item">
        <a id="githubLink" href="#" target="_blank" title="Open GitHub (not set)">
            <i class="fab fa-github"></i>
        </a>
        <button class="btn btn-sm btn-outline-dark" onclick="toggleEdit('github')">Edit</button>
        <div class="edit-area mt-1" id="github-edit">
            <input type="text" class="form-control form-control-sm mb-1" id="github-username" placeholder="GitHub username">
            <button class="btn btn-sm btn-success" onclick="saveUsername('github')">Save</button>
        </div>
    </div>

    <!-- Instagram -->
    <div class="social-item">
        <a id="instagramLink" href="#" target="_blank" title="Open Instagram (not set)">
            <i class="fab fa-instagram" style="color:#E1306C;"></i>
        </a>
        <button class="btn btn-sm btn-outline-danger" onclick="toggleEdit('instagram')">Edit</button>
        <div class="edit-area mt-1" id="instagram-edit">
            <input type="text" class="form-control form-control-sm mb-1" id="instagram-username" placeholder="Instagram username">
            <button class="btn btn-sm btn-success" onclick="saveUsername('instagram')">Save</button>
        </div>
    </div>

    <!-- LeetCode -->
    <div class="social-item">
        <a id="leetcodeLink" href="#" target="_blank" title="Open LeetCode (not set)">
            <i class="fas fa-code" style="color:#FFA116;"></i>
        </a>
        <button class="btn btn-sm btn-outline-warning" onclick="toggleEdit('leetcode')">Edit</button>
        <div class="edit-area mt-1" id="leetcode-edit">
            <input type="text" class="form-control form-control-sm mb-1" id="leetcode-username" placeholder="LeetCode username">
            <button class="btn btn-sm btn-success" onclick="saveUsername('leetcode')">Save</button>
        </div>
    </div>

</div>

<script>
const URL_MAP = {
    linkedin: (u) => `https://www.linkedin.com/in/${u}`,
    github: (u) => `https://github.com/${u}`,
    instagram: (u) => `https://www.instagram.com/${u}`,
    leetcode: (u) => `https://leetcode.com/${u}`
};

// Toggle the input visibility
function toggleEdit(platform) {
    const editBox = document.getElementById(`${platform}-edit`);
    editBox.style.display = editBox.style.display === "block" ? "none" : "block";
}

// Save username to localStorage and update link
function saveUsername(platform) {
    const input = document.getElementById(`${platform}-username`);
    let username = input.value.trim();
    if (!username) {
        alert("Please enter a username.");
        return;
    }

    // Lowercase for github & instagram
    if (platform === "github" || platform === "instagram") {
        username = username.toLowerCase();
    }

    localStorage.setItem(`social_${platform}`, username);
    updateLink(platform, username);

    document.getElementById(`${platform}-edit`).style.display = "none";
}

// Update link and tooltip
function updateLink(platform, username) {
    const link = document.getElementById(`${platform}Link`);
    link.href = URL_MAP[platform](encodeURIComponent(username));
    link.title = `Open ${platform.charAt(0).toUpperCase() + platform.slice(1)}: ${username}`;
}

// Load saved usernames on page load
window.addEventListener("DOMContentLoaded", () => {
    ["linkedin", "github", "instagram", "leetcode"].forEach(platform => {
        const savedUser = localStorage.getItem(`social_${platform}`);
        if (savedUser) {
            updateLink(platform, savedUser);
            document.getElementById(`${platform}-username`).value = savedUser;
        }
    });
});
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>

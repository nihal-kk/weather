<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>weather app</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div style="display: flex; gap: 100px;">
    <div id="card">
        <div style="display: flex;" class="sserch">
          <input type="search" id="search" placeholder="enter city name">
          <div id="searchbg"><img src="images/search.png" alt="searchbtn" id="searchbtn"></div>
        </div>
        <div style="text-align:center;;">
            <img src="images/rain.png" alt="weather" style="width: 170px;" id="imim">
            <h1 id="digree">31°C</h1>
            <h2 id="place">India</h2>
        </div>
        <div style="display: flex; gap: 60px;">
            <div style="display: flex; margin: 10px; margin-left: 40px;">
                <div><img src="images/humidity.png" alt="" style="width: 50px;"></div>
                <div style="position: relative; bottom:30px; left: 10px;"><h3 id="humiditynum">64%</h3>
                <p>Humidity</p></div>

            </div>
            <div style="display: flex; margin: 10px; margin-left: 40px;">
                <div><img src="images/wind.png" alt="" style="width: 50px;"></div>
                <div style="position: relative; bottom:30px; left: 10px;"><h3 id="wi">7.72 km/h</h3>
                <p>Wind Speed</p></div>

            </div>
        </div>
        <div style="display: flex; gap: 60px;">
            <div style="display: flex; margin: 10px; margin-left: 40px;">
                <div><img src="https://d310u0ihrcjcdd.cloudfront.net/userfiles/images/landingpages/metcal/august2020/speed-icon.png" alt="" style="width: 50px;"></div>
                <div style="position: relative; bottom:30px; left: 10px;"><h3 id="presurenum">1040</h3>
                <p>pressure</p></div>

            </div>
            <div style="display: flex; margin: 10px; margin-left: 40px;">
                <div><img src="images/20250827_145027.png" alt="" style="width: 70px;"></div>
                <div style="position: relative; bottom:30px; left: 10px;"><h3 id="sea">1014</h3>
                <p>Sea Level</p></div>

            </div>
        </div>
    </div>
    <!-- &appid=8a935bc381e1c3b133ced595aa118cf3&units=metric -->
    
    <!-- Tomorrow forecast -->
     <div id="card1">
    <div id="tomorrow" style="margin-top:20px; text-align:center;">
        <div id="todayCard">
          <h2 style="text-align:center;" id="todayHeading">Today's Weather</h2>
        </div>
      <h2>Tomorrow's Forecast</h2>
      <p id="tomorrowTemp">--</p>
      <p id="tomorrowWeather">--</p>
    </div>
    </div>
  </div>  
  <!-- TODAY SECTION -->

<script>
  const days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
  const today = new Date();
  document.getElementById("todayHeading").innerText = "Today is " + days[today.getDay()];
</script>



  <script>
        const apiKey = '8a935bc381e1c3b133ced595aa118cf3';
        const apiUrl = 'https://api.openweathermap.org/data/2.5/weather?q=';
        const apia ='&units=metric'
        const searchbox = document.querySelector('#search');
        const searchbtn = document.querySelector('#searchbtn');
        const weatherimg =document.querySelector("#imim");
        async function checkweather(city) {
            const response =await fetch(apiUrl + city + `&appid=${apiKey}${apia}`);
            var data = await response.json();

            console.log(data);

            document.querySelector("#place").innerHTML = data.name;
            document.querySelector("#presurenum").innerHTML =data.main.pressure;
            document.querySelector("#sea").innerHTML =data.main.sea_level;
            document.querySelector("#digree").innerHTML =Math.round(data.main.temp) + " °C";
            document.querySelector("#humiditynum").innerHTML =data.main.humidity + '%';
            document.querySelector("#wi").innerHTML =data.wind.speed + "km/h";
            
            if(data.weather[0].main == "Clouds"){
                weatherimg.src = 'images/clouds.png';
            }else if(data.weather[0].main == "Rain"){
                weatherimg.src = 'images/rain.png';
            }else if(data.weather[0].main == "Drizzle"){
                weatherimg.src = 'images/rain.png';
            }else if(data.weather[0].main == "Mist"){
                weatherimg.src = 'images/mist.png';
            }else if(data.weather[0].main == "Clear"){
                weatherimg.src = 'images/clear.png';
            }
        }
        searchbtn.addEventListener("click", ()=> {
            checkweather(searchbox.value)
        })

        
    </script>
  <script>
    const apiKey1 = '8a935bc381e1c3b133ced595aa118cf3';
    const apiUrl1 = 'https://api.openweathermap.org/data/2.5/weather?q=';
    const forecastUrl = 'https://api.openweathermap.org/data/2.5/forecast?q=';
    const apia1 = '&units=metric';

    const searchbox1 = document.querySelector('#search1');
    const searchbtn1 = document.querySelector('#searchbtn1');
    const weatherimg1 = document.querySelector("#imim1");

    async function checkweather(city) {
      // Current Weather
      const response = await fetch(apiUrl + city + `&appid=${apiKey}${apia}`);
      var data = await response.json();

      document.querySelector("#place").innerHTML = data.name;
      document.querySelector("#presurenum").innerHTML = data.main.pressure;
      document.querySelector("#sea").innerHTML = data.main.sea_level || "—";
      document.querySelector("#digree").innerHTML = Math.round(data.main.temp) + " °C";
      document.querySelector("#humiditynum").innerHTML = data.main.humidity + '%';
      document.querySelector("#wi").innerHTML = data.wind.speed + " km/h";

      if (data.weather[0].main == "Clouds") {
        weatherimg.src = 'images/clouds.png';
      } else if (data.weather[0].main == "Rain") {
        weatherimg.src = 'images/rain.png';
      } else if (data.weather[0].main == "Drizzle") {
        weatherimg.src = 'images/rain.png';
      } else if (data.weather[0].main == "Mist") {
        weatherimg.src = 'images/mist.png';
      } else if (data.weather[0].main == "Clear") {
        weatherimg.src = 'images/clear.png';
      }

      // Tomorrow Forecast
      const forecastRes = await fetch(forecastUrl + city + `&appid=${apiKey}${apia}`);
      const forecastData = await forecastRes.json();

      // Get tomorrow's date
      const tomorrowDate = new Date();
      tomorrowDate.setDate(tomorrowDate.getDate() + 1);
      const tomorrowStr = tomorrowDate.toISOString().split("T")[0];

      // Find first forecast for tomorrow
      const tomorrowForecast = forecastData.list.find(item =>
        item.dt_txt.startsWith(tomorrowStr + " 12:00:00")
      );

      if (tomorrowForecast) {
        document.getElementById("tomorrowTemp").innerText =
          "Temp: " + Math.round(tomorrowForecast.main.temp) + " °C";
        document.getElementById("tomorrowWeather").innerText =
          "Weather: " + tomorrowForecast.weather[0].description;
      } else {
        document.getElementById("tomorrowTemp").innerText = "No forecast available";
        document.getElementById("tomorrowWeather").innerText = "";
      }
    }

    searchbtn.addEventListener("click", () => {
      checkweather(searchbox.value)
    })
  </script>

</body>
</html>